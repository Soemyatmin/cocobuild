window.__require=function e(t,n,o){function c(i,a){if(!n[i]){if(!t[i]){var r=i.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+i+"'")}i=r}var d=n[i]={exports:{}};t[i][0].call(d.exports,function(e){return c(t[i][1][e]||e)},d,d.exports,e,t,n,o)}return n[i].exports}for(var s="function"==typeof __require&&__require,i=0;i<o.length;i++)c(o[i]);return c}({AutoScroller:[function(e,t,n){"use strict";cc._RF.push(t,"0c45cXkF9xBKZyVBsC4nJ3M","AutoScroller");var o;cc.Class({extends:cc.Component,properties:{placeHolder:cc.Node,scrollText:cc.Node},start:function(){o=this.scrollText.x},update:function(e){this.textMovingLimit(this.scrollText.width,o,this.placeHolder.width)>this.scrollText.x+50?this.scrollText.x=o:this.scrollText.x-=80*e},textMovingLimit:function(e,t,n){return n-(e-t)},newTextSet:function(e){this.scrollText.string=e,this.scrollText.x=o}}),cc._RF.pop()},{}],ChatItemObj:[function(e,t,n){"use strict";cc._RF.push(t,"d05426qifRCmbLdwBkzb+Yb","ChatItemObj"),cc.Class({extends:cc.Component,properties:{label:cc.Label},assignText:function(e){this.label.string=e}}),cc._RF.pop()},{}],ChatScrollItemAdding:[function(e,t,n){"use strict";cc._RF.push(t,"3ba82TirGJLTKpI0I+wrZ7s","ChatScrollItemAdding"),cc.Class({extends:cc.Component,properties:{chatItem:cc.Prefab,container:cc.Node,scrollView:cc.ScrollView},start:function(){},addingChats:function(e){var t=cc.instantiate(this.chatItem);return t.getComponent("ChatItemObj").assignText(e),this.container.addChild(t),this.scrollView.scrollToBottomLeft(.1),t}}),cc._RF.pop()},{}],Client:[function(e,t,n){"use strict";var o,c,s,i;cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","Client"),cc.Class({extends:cc.Component,properties:{mainCanvas:cc.Node,canvasHandlerNode:cc.Node},onLoad:function(){c=this,i=this.canvasHandlerNode.getComponent("MainCanvasHandler"),this.initConnection(),setTimeout(function(){c.sendChatMessage("New Player Joined")},3e3)},initConnection:function(){window.WebSocket=window.WebSocket||window.MozWebSocket,(o=new WebSocket("ws://localhost:3000/")).onopen=function(e){1===o.readyState?o.send(JSON.stringify({type:"client-id"})):console.log("not ready"),console.log("Connection Open...")},o.onmessage=function(e){var t=JSON.parse(e.data);switch(t.type){case"client-id":s=t.message,console.log("id number : "+t.message);break;case"chat-message":c.receiveChatMessage(t.message);break;case"news-update":c.newsUpdate(t.message)}},o.onerror=function(e){console.log("Send Text fired an error")},o.onclose=function(e){console.log("WebSocket instance closed.")}},sendChatMessage:function(e){var t={type:"chat-message",message:{client_id:s,text:e}};1===o.readyState?o.send(JSON.stringify(t)):console.log("not ready webSocket state "+o.readyState)},receiveChatMessage:function(e){i.receivedMessageShown(e),console.log(e.text)},newsUpdate:function(e){i.receivedMessageShown(e),console.log(e.text)}}),cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"7a6ad+eT91MHq/vOKwFSVVt","GameManager"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],MainCanvasHandler:[function(e,t,n){"use strict";var o,c,s;cc._RF.push(t,"6fe08e/rGpAbqehzacYumEM","MainCanvasHandler"),cc.Class({extends:cc.Component,properties:{chatScrollViewNode:cc.Node,clientNode:cc.Node,newsLayoutNode:cc.Node,chatText:cc.EditBox},onLoad:function(){o=this.chatScrollViewNode.getComponent("ChatScrollItemAdding"),c=this.clientNode.getComponent("Client"),s=this.clientNode.getComponent("AutoScroller")},start:function(){this.chatText.node.on("editing-return",function(){this.sendMessageBtn()},this)},sendMessageBtn:function(){""!==this.chatText.string&&(c.sendChatMessage(this.chatText.string),this.chatText.string=""),this.chatText.focus()},receivedMessageShown:function(e){console.log("["+e.client_id+"] "+e.text),o.addingChats("["+e.client_id+"] "+e.text)},newsUpdateShown:function(e){s.newTextSet(e)}}),cc._RF.pop()},{}]},{},["MainCanvasHandler","ChatItemObj","ChatScrollItemAdding","Client","GameManager","AutoScroller"]);